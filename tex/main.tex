\documentclass[a4paper,12pt]{book}%hidelinks

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[french]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}

%%%%%%%%%%  Geometry  %%%%%%%%%%
\usepackage{geometry}

\geometry{left=25mm,right=25mm}
\geometry{top=25mm,bottom=25mm}

%%%%%%%%%%  Other packages  %%%%%%%%%%
\usepackage{afterpage}
\usepackage{changepage}
\usepackage{verbatim}
\usepackage{comment}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{nicefrac}
\usepackage{anyfontsize}
\usepackage{circuitikz}
\ctikzset{logic ports=ieee}
\usetikzlibrary{babel}
\usepackage{tikz}
%\usepackage{rubikcube,rubikrotation,rubikpatterns}
%\usepackage{iso5807}
%\usepackage{algobox}
\usepackage{chemfig}
\usepackage{musixtex}
\usepackage{qrcode}
\usepackage[ISBN=978-2-7108-1184-8,SC3]{ean13isbn}
\usepackage{xskak}


%%%%%%%%%%  Lettrine  %%%%%%%%%%
\usepackage{lettrine}
%\usepackage{Rothdn}
%\renewcommand{\LettrineFontHook}{\Rothdnfamily}

%\usepackage{addfont}
%\addfont{OT1}{rsfs10}{\rsfs}
%\renewcommand{\LettrineFontHook}{\rsfs}

%\usepackage{pacioli}%\cpcfamily
%\renewcommand{\LettrineFontHook}{\cpcfamily}

%%%%%%%%%%  Illustrations  %%%%%%%%%%
\usepackage{graphicx}
\usepackage{wrapfig}
\graphicspath{{./Illustrations/}}

%caption
\usepackage{caption}
\usepackage[font={normalsize,it}]{caption}
\usepackage[rightcaption]{sidecap}

%%%%%%%%%%  Header-footer  %%%%%%%%%%
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

\fancyhead[RO]{}
\fancyhead[LE]{}
\fancyfoot[RO]{\textsc{\thepage}}
\fancyfoot[LE]{\textsc{\thepage}}
\fancyfoot[C]{}
\fancyhead[C]{}
\fancyhead[RE,LO]{}
\fancyfoot[RE,LO]{}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

%chapter pages
\fancypagestyle{plain}{
\fancyhf{} 
\fancyfoot[LE,RO]{\thepage} % same placement as with page style "fancy"
\renewcommand{\headrulewidth}{0pt}}

%%%%%%%%%%  Niveaux  %%%%%%%%%%
\setcounter{secnumdepth}{2}

%style chapitres
\usepackage[explicit]{titlesec}
\usepackage{fix-cm}

% numbered
\titleformat{\chapter}
%  {\normalfont\LARGE\bfseries\filleft}
  {\normalfont\Huge\bfseries}
  {}
  {0em}
  {%
    \parbox[b]{\dimexpr\linewidth-2.5cm\relax}{#1}\hfill%
    \parbox[b]{2cm}{\hfill{\fontsize{80}{96}\selectfont\thechapter}}%
  }
% unnumbered
\titleformat{name=\chapter,numberless}
%  {\normalfont\LARGE\bfseries\filleft}
  {\normalfont\Huge\bfseries}
  {}
  {0em}
  {\parbox[b]{\dimexpr\linewidth-2.5cm\relax}{#1}}
% spacing
\titlespacing*{\chapter}
  {0pt}{50pt}{40pt}

%style niveaux
\usepackage{titlesec}

\titlespacing\subsubsection{0pt}{8pt plus 4pt minus 2pt}{6pt plus 2pt minus 2pt}

%%%%%%%%%%  tableofcontents  %%%%%%%%%%
\setcounter{tocdepth}{3}
\PassOptionsToPackage{hyphens}{url}

%%%%%%%%%%  listoffigures  %%%%%%%%%%
\makeatletter
\renewcommand\listoffigures{
    \chapter{\listfigurename}
      \@mkboth{\MakeUppercase\listfigurename}
              {\MakeUppercase\listfigurename}
    \@starttoc{lof}
    }
\makeatother

%%%%%%%%%%  makeindex  %%%%%%%%%%
\usepackage{imakeidx}
\makeindex[columns=3, title= Index,options= -s index_style.ist, intoc=true]

%%%%%%%%%%  Background  %%%%%%%%%%
\usepackage[pages=some]{background}

\backgroundsetup{
	scale=1,
	color=white,
	opacity=1,
	angle=0,
	contents={
	  \includegraphics[width=\paperwidth,height=\paperheight]{Couverture.pdf}
	}
}

%%%%%%%%%%  Couleurs  %%%%%%%%%%
\usepackage{xcolor}
\usepackage{colortbl}

%couleur tableau
\definecolor{tablegrey}{RGB}{217,217,217}

%couleur programmation
\definecolor{codegreen}{RGB}{0,158,0}
\definecolor{codegray}{RGB}{90,90,90}
\definecolor{codebggray}{RGB}{242,242,242}
\definecolor{codepurple}{RGB}{195, 0, 47}
\definecolor{codeblue}{RGB}{0, 108, 255}

%couleur Rubik's cube
\definecolor{R}{RGB}{196,30,51}
\definecolor{G}{RGB}{0,190,56}
\definecolor{B}{RGB}{0,81,186}
\definecolor{Y}{RGB}{255,255,0}
\definecolor{O}{RGB}{255,127,0}
\definecolor{W}{RGB}{255,255,255}
\definecolor{X}{RGB}{77,77,77}

%liens
\definecolor{link1}{RGB}{0,0,0}
\definecolor{link2}{RGB}{58,111,189}
\definecolor{link3}{RGB}{117,0,49}

%%%%%%%%%%  Tableaux  %%%%%%%%%%
%milieu de colonne
\newcolumntype{M}[1]{>{\raggedright}m{#1}}

%case couleur
\newcolumntype{C}{>{\columncolor{tablegrey}}c}
\newcolumntype{L}{>{\columncolor{tablegrey}}l}

%%%%%%%%%%  Tabulation  %%%%%%%%%%
\newcommand\block[1][6.3mm]{\hspace*{#1}}
\newcommand\blockk[1][9cm]{\hspace*{#1}}

%%%%%%%%%%  Footnote  %%%%%%%%%%
%tableaux
\usepackage{footnote}
\makesavenoteenv{tabular}
\makesavenoteenv{table}
\usepackage[stable]{footmisc}

%sans numéro
\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

%%%%%%%%%%  Programmation  %%%%%%%%%%
\usepackage{listings}

\lstdefinestyle{prgm}{
    commentstyle=\color{codegreen},
    keywordstyle=\color{codepurple},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codeblue},
    basicstyle=\ttfamily,
    numbers=left,  
    tabsize=1,
    breaklines=true,
    breakatwhitespace=false,   
    showstringspaces=false,
    stepnumber=1,
}

\lstset{language={[LaTeX]TeX},style=prgm}

%%%%%%%%%%  Info PDF  %%%%%%%%%%
\author{Cédric Willemin}
\title{Analyse avancée II}
\date{25 décembre 2021}

\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\let\thedate\@date
\makeatother

\usepackage[pdftex,
	pdfauthor={\theauthor},
	pdftitle={\thetitle},
	%pdfsubject={The Subject},
	%pdfkeywords={Some Keywords},
	pdfproducer={MiKTeX},
	pdfcreator={LaTeX}]{hyperref}
            
%%%%%%%%%%  Links  %%%%%%%%%%
\hypersetup{
	linktoc=all,
	colorlinks=true,
	linkcolor=link1,
	filecolor=link1,
	urlcolor=link1,
}

\usepackage{url}
\usepackage{xurl}
\urlstyle{tt}

%%%%%%%%%%  Newcommand  %%%%%%%%%%
\newenvironment{cactus}{\hspace*{63mm}\begin{tabular}{M{10mm} @{\ \ } M{60mm}}\raggedleft \includegraphics[width=12mm]{cactus.pdf}&\raggedright \begin{em}}{\end{em}\end{tabular}}

\newcommand{\qed}{{\par\raggedleft$\square$\par}}

%%%%%%%%%%  Document  %%%%%%%%%%
\begin{document}

%%%%%%%%%%  Info document  %%%%%%%%%%
\renewcommand{\figurename}{Figure} %%%Nom des illustrations
\renewcommand\listfigurename{Table des illustrations} %%%
\setlength\parindent{0pt} %%%Espace en début de paragraphe
\setchemfig{atom sep=1.6em} %%%Espace entre atom, Chemfig

%%%%%%%%%%  Table des matières  %%%%%%%%%%
\tableofcontents
\addtocontents{toc}{\protect\thispagestyle{empty}}
\begin{center}
\vspace*{\fill}{\today}
\end{center}
\newpage

%%%%%%%%%%  Pages document  %%%%%%%%%%
\pagenumbering{arabic}
\pagestyle{fancy}
\setcounter{page}{1}

\include{chapitres/1.tex}


\end{document}
